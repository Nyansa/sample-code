var data=REPORTDATA;function create_layout(){try{var t="";if(""!=data.title||""!=data.description){var a=get_HTMLTemplate("page-header");t=a=(a=(a=(a=a.replaceAll("{{title}}",data.title)).replaceAll("{{description}}",data.description)).replaceAll("{{company}}",data.company)).replaceAll("{{date}}",data.date)}for(var e in data.sections){var r=get_HTMLTemplate("section-body");r=r.replaceAll("{{link}}",data.sections[e].link);var i=get_HTMLTemplate("section-header");i=(i=i.replaceAll("{{title}}",data.sections[e].title)).replaceAll("{{description}}",data.sections[e].description);var s=get_bootstrap_layout(data.sections[e].layout.rows);t+=r=(r=r.replaceAll("{{header}}",i)).replaceAll("{{layout}}",s)}document.getElementById("Content").innerHTML=t}catch(t){console.log("create_layout: ERROR: "+t)}}function get_bootstrap_layout(t){try{var a="";for(var e in t)a+=get_recursive_bootstrap_row(t[e].cols);return a}catch(t){console.log("get_bootstrap_layout: ERROR: "+t)}}function get_recursive_bootstrap_row(t){try{var a='<div class="row">';for(var e in t)if(1==t[e].hasOwnProperty("rows"))a=a+'<div class="col-'+t[e].width+'">',a+=get_recursive_bootstrap_row(t[e].rows),a+="</div>";else if(1==t[e].hasOwnProperty("id"))a=a+'<div id="container-'+t[e].id+'" class="col-'+t[e].width+'"></div>';else for(var r in t[e].cols)a=a+'<div id="container-'+t[e].cols[r].id+'" class="col-'+t[e].cols[r].width+'"></div>';return a+="</div>"}catch(t){console.log("get_recursive_bootstrap_row: ERROR: "+t)}}function draw_charts(t){try{for(var a in data.sections)for(var e in data.sections[a].reports)data.sections[a].reports[e].id.startsWith("info")?draw_info(t,a,e):draw_chart(t,a,e)}catch(t){console.log("draw_charts ERROR: "+t)}}function draw_chart(t,a,e){try{var r=get_HTMLTemplate(data.sections[a].reports[e].id);if(null!=r){r=r.replaceAll("{{chart.title}}",data.sections[a].reports[e].config.title).replaceAll("{{chart.description}}",data.sections[a].reports[e].config.description).replaceAll("{{chart.id}}",data.sections[a].reports[e].id),document.getElementById("container-"+data.sections[a].reports[e].id).innerHTML=r;var i=get_ChartLabels(data.sections[a].reports[e].id,a,e),s=get_ChartData(data.sections[a].reports[e].id,i.labels,i.values,data.sections[a].reports[e].config.colors),o=get_ChartOptions(data.sections[a].reports[e].id,i.stepSize);if(null!=i&&null!=s&&null!=o){t.charts.push(t.respChart($("#"+data.sections[a].reports[e].id),data.sections[a].reports[e].id,s,o));var l=document.getElementById(data.sections[a].reports[e].id+"-description");null!=l&&l.innerHTML.includes("{{PERCENTAGE}}")&&(0==data.sections[a].reports[e].data.total?l.innerHTML="":l.innerHTML=l.innerHTML.replaceAll("{{PERCENTAGE}}",data.sections[a].reports[e].data.total)),data.sections[a].reports[e].id.startsWith("donutchart")&&draw_donut_legend(data.sections[a].reports[e].id,a,e)}}}catch(t){console.log("draw_chart ERROR: "+t)}}function draw_donut_legend(t,a,e){try{var r;t.startsWith("donutchart-vertical")?r=get_HTMLTemplate("donut-legend-vertical"):t.startsWith("donutchart-horizontal")&&(r=get_HTMLTemplate("donut-legend-horizontal"));var i='<table style="width: 100%">',s=0;for(var o in data.sections[a].reports[e].data.data)i+=r.replaceAll("{{LABEL}}",data.sections[a].reports[e].data.data[o].label).replaceAll("{{VALUE}}",data.sections[a].reports[e].data.data[o].value+" "+data.sections[a].reports[e].config.units).replaceAll("{{COLOR}}",data.sections[a].reports[e].config.colors[s]),s++;i+="</table>",document.getElementById(t+"-legend").innerHTML=i}catch(a){console.log("draw_donut_legend ID: "+t+" ERROR: "+a)}}function draw_info(t,a,e){try{var r=get_HTMLTemplate(data.sections[a].reports[e].id);if(null!=r)r=(r=(r=(r=r.replaceAll("{{chart.title}}",data.sections[a].reports[e].config.title)).replaceAll("{{chart.color}}",data.sections[a].reports[e].config.color)).replaceAll("{{chart.value}}",data.sections[a].reports[e].config.value)).replaceAll("{{chart.count}}",data.sections[a].reports[e].config.count),document.getElementById("container-"+data.sections[a].reports[e].id).innerHTML=r}catch(t){console.log("draw_info ERROR: "+t)}}function get_ChartLabels(t,a,e){try{var r={labels:[],values:[],stepSize:0};if("barchart-vertical-application-performance"==t){for(var i in data.sections[a].reports[e].data)r.labels.push([data.sections[a].reports[e].data[i].label,data.sections[a].reports[e].data[i].value+" "+data.sections[a].reports[e].config.units]),r.values.push(data.sections[a].reports[e].data[i].value),data.sections[a].reports[e].data[i].value>r.stepSize&&(r.stepSize=data.sections[a].reports[e].data[i].value);return r}if(t.startsWith("barchart-horizontal")){for(var i in data.sections[a].reports[e].data)""==data.sections[a].reports[e].config.units?r.labels.push(data.sections[a].reports[e].data[i].label):r.labels.push(data.sections[a].reports[e].data[i].label+" ("+data.sections[a].reports[e].data[i].value+" "+data.sections[a].reports[e].config.units+")"),r.values.push(data.sections[a].reports[e].data[i].value),data.sections[a].reports[e].data[i].value>r.stepSize&&(r.stepSize=data.sections[a].reports[e].data[i].value);return r}if(t.startsWith("donutchart")){for(var i in data.sections[a].reports[e].data.data)r.labels.push(data.sections[a].reports[e].data.data[i].label+" ("+data.sections[a].reports[e].data.data[i].value+" "+data.sections[a].reports[e].config.units+")"),r.values.push(data.sections[a].reports[e].data.data[i].value);return r}}catch(t){console.log("get_ChartLabels: "+t)}return null}function get_ChartData(t,a,e,r){try{if(t.startsWith("barchart-horizontal"))return{labels:a,datasets:[{backgroundColor:r,data:e}]};if(t.startsWith("barchart-vertical"))return{labels:a,datasets:[{backgroundColor:r,data:e}]};if(t.startsWith("donutchart"))return{labels:a,datasets:[{data:e,backgroundColor:r,borderWidth:"0"}]}}catch(t){console.log("get_ChartData: "+t)}return null}function get_ChartOptions(t,a){try{if(t.startsWith("barchart-horizontal"))return{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1,color:"rgba(0,0,0,0.01)",drawTicks:!1},stacked:!1,ticks:{display:!1,stepSize:a}}],yAxes:[{barPercentage:1,categoryPercentage:.9,stacked:!1,gridLines:{color:"rgba(0,0,0,0.01)"}}]}};if(t.startsWith("barchart-vertical"))return{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{stacked:!1,gridLines:{color:"rgba(0,0,0,0.01)"}}],yAxes:[{gridLines:{display:!1,color:"rgba(0,0,0,0.01)",drawTicks:!1},stacked:!1,ticks:{display:!1,stepSize:a}}]}};if(t.startsWith("donutchart"))return{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!1,cutoutPercentage:60,legend:{display:!1,position:"bottom",labels:{boxWidth:10}}}}catch(t){console.log("get_ChartOptions: "+t)}return null}function get_HTMLTemplate(t){try{if(t.startsWith("barchart-horizontal-top10"))return'<div class="card-body" style="padding-bottom: 20px">    <div style="width: 100%">        <div style="width: 50%; float: left; display: inline-block;">            <h4 class="mb-0 mt-0">{{chart.title}}</h4>        </div>        <div style="width: 50%; float: right; display: inline-block; text-align: right">            <p class="mb-0 mt-0">{{chart.description}}</p>        </div>    </div>    <div class="mt-2 chartjs-chart" style="position: relative; height: 300px;">        <canvas id="{{chart.id}}"></canvas>    </div></div>';if(t.startsWith("barchart-horizontal"))return'<div class="card-body" style="padding-bottom: 20px">    <div style="width: 100%">        <div style="width: 50%; float: left; display: inline-block;">            <h4 class="mb-0 mt-0">{{chart.title}}</h4>        </div>        <div style="width: 50%; float: right; display: inline-block; text-align: right">            <p class="mb-0 mt-0">{{chart.description}}</p>        </div>    </div>    <div class="mt-2 chartjs-chart" style="position: relative; height: 150px;">        <canvas id="{{chart.id}}"></canvas>    </div></div>';if(t.startsWith("barchart-vertical"))return'<div class="card-body" style="padding-left: 0px; padding-right: 0px; padding-bottom: 20px"" >    <h4 class="mb-0" style="margin-left: 1.5rem">{{chart.title}}</h4>    <p class="mb-0" style="margin-left: 1.5rem">{{chart.description}}</p>    <div class="mt-3 chartjs-chart" style="position: relative; height: 300px;" >        <canvas id="{{chart.id}}"></canvas>    </div></div>';if(t.startsWith("donutchart-vertical"))return'<div class="card-body" style="padding-bottom: 20px">    <h5 class="mb-0">{{chart.title}}</h5>    <p id="{{chart.id}}-description" class="mb-0" >{{chart.description}}</p>    <div class="mb-2 mt-2 chartjs-chart" style="position: relative; height: 200px; max-width: 200px;">        <canvas id="{{chart.id}}"></canvas>    </div>    <div id="{{chart.id}}-legend" class="chart-widget-list" style="margin-top: 10px">    </div></div>';if(t.startsWith("donutchart-horizontal"))return'<div class="card-body" style="padding-bottom: 20px">    <div style="width: 100%; margin-bottom: 30px">        <div style="width: 50%; float: left; display: inline-block;">            <h5 class="mb-0">{{chart.title}}</h5>        </div>        <div style="width: 50%; float: right; display: inline-block; text-align: right">            <p id="{{chart.id}}-description" class="font-13 mb-0">{{chart.description}}</p>        </div>    </div>    <div style="width: 100%; margin: 0px; padding: 0px">        <div style="height: 160px; float: left; display: inline-block;">            <div class="chartjs-chart" style="position: relative; height: 160px; max-width: 160px">                <canvas id="{{chart.id}}"></canvas>            </div>        </div>        <div style="position: relative; height: 160px; float: left; display: inline-block">            <div id="{{chart.id}}-legend" style="width: 200px; margin-left: 10px; position: absolute; top: 50%; transform: translateY(-50%);">            </div>        </div>    </div></div>';if("donut-legend-vertical"==t)return'<tr>    <th style="width: 15px">        <div style="height: 12px; width: 12px; display: inline-block; background-color:{{COLOR}}"></div>    </th>    <th style="max-width: 100px">        <p style="margin: 0px; font-weight: normal; overflow: hidden; white-space: nowrap; text-overflow: ellipsis">{{LABEL}}</p>    </th>    <th style="text-align: right">        <p style="margin: 0px; font-weight: normal">{{VALUE}}</p>    </th></tr>';if("donut-legend-horizontal"==t)return'<tr>    <th style="width: 15px">        <div style="height: 12px; width: 12px; display: inline-block; background-color:{{COLOR}}"></div>    </th>    <th>        <p style="margin: 0px; font-weight: normal; overflow: hidden; white-space: nowrap; text-overflow: ellipsis">{{LABEL}}</p>    </th>    <th style="padding-left: 20px; text-align: right">        <p style="margin: 0px; font-weight: normal">{{VALUE}}</p>    </th></tr>';if(t.startsWith("info"))return'<div class="card-body" style="padding-bottom: 20px">    <div class="card" style="width: 100%; text-align: center; padding: 10px; background: {{chart.color}}; display: inline-block;">        <h5 class="mb-2 text-white" >{{chart.title}}</h5>        <h1 class="font-weight-bold text-white mb-2">{{chart.value}}</h1>        <h5 class="mb-2 text-white" style="font-weight: normal">{{chart.count}}</h5>    </div></div>';if("page-header"==t)return'<div class="row" style="padding-bottom: 40px">    <div class="col-xl-6">        <h3>{{title}}</h3>        <h5>{{description}}</h5>    </div>    <div class="col-xl-6" style="text-align: right">        <h3>{{company}}</h3>        <h5>{{date}}</h5>    </div></div>';if("section-header"==t)return'<div class="row" style="margin: 0px;">    <div class="col-xl-12">        <div style="width: 100%;">            <div style="width: 50%; float: left; display: inline-block;">                <h3>{{title}}</h3>            </div>            <div style="width: 50%; float: right; display: inline-block; text-align: right">                <h5>{{description}}</h5>            </div>        </div>    </div></div>';if("section-body"==t)return'<div id="{{link}}" class="row" style="padding-bottom: 40px">    <div class="col-xl-12">        <div class="card" style="padding-top: 10px; padding-bottom: 20px">            {{header}}            {{layout}}        </div>    </div></div>'}catch(a){console.log("get_HTMLTemplate ID: "+t+" ERROR: "+a)}return null}String.prototype.replaceAll=function(t,a){return this.replace(new RegExp(t,"g"),a)},window.onload=function(t){(ChartJs=new ChartJs).Constructor=ChartJs,ChartJs.init()};var ChartJs=function(){this.$body=$("body"),this.charts=[]};ChartJs.prototype.respChart=function(t,a,e,r){var i=Chart.controllers.line.prototype.draw;Chart.controllers.line.prototype.draw=function(){i.apply(this,arguments);var t=this.chart.chart.ctx,a=t.stroke;t.stroke=function(){t.save(),t.shadowColor="rgba(0,0,0,0.01)",t.shadowBlur=20,t.shadowOffsetX=0,t.shadowOffsetY=5,a.apply(this,arguments),t.restore()}};var s=Chart.controllers.doughnut.prototype.draw;Chart.controllers.doughnut=Chart.controllers.doughnut.extend({draw:function(){s.apply(this,arguments);var t=this.chart.chart.ctx,a=t.fill;t.fill=function(){t.save(),t.shadowColor="rgba(0,0,0,0.03)",t.shadowBlur=4,t.shadowOffsetX=0,t.shadowOffsetY=3,a.apply(this,arguments),t.restore()}}});var o=Chart.controllers.bar.prototype.draw;Chart.controllers.bar=Chart.controllers.bar.extend({draw:function(){o.apply(this,arguments);var t=this.chart.chart.ctx,a=t.fill;t.fill=function(){t.save(),t.shadowColor="rgba(0,0,0,0.01)",t.shadowBlur=20,t.shadowOffsetX=4,t.shadowOffsetY=5,a.apply(this,arguments),t.restore()}}});var l,n=t.get(0).getContext("2d"),d=$(t).parent();return t.attr("width",$(d).width()),a.startsWith("linechart")?l=new Chart(n,{type:"line",data:e,options:r}):a.startsWith("donutchart")?l=new Chart(n,{type:"doughnut",data:e,options:r}):a.startsWith("piechart")?l=new Chart(n,{type:"pie",data:e,options:r}):a.startsWith("barchart-vertical")?l=new Chart(n,{type:"bar",data:e,options:r}):a.startsWith("barchart-horizontal")?l=new Chart(n,{type:"horizontalBar",data:e,options:r}):a.startsWith("radarchart")?l=new Chart(n,{type:"radar",data:e,options:r}):a.startsWith("polarareachart")&&(l=new Chart(n,{type:"polarArea",data:e,options:r})),l},ChartJs.prototype.initCharts=function(){return create_layout(),draw_charts(this),[]},ChartJs.prototype.init=function(){var t=this;Chart.defaults.global.defaultFontFamily='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',t.charts=this.initCharts(),$(window).on("resize",function(a){$.each(t.charts,function(t,a){try{a.destroy()}catch(t){}}),t.charts=t.initCharts()})};
